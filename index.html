<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nigeria Scam Allegations Companies Database</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #eee;
    }
    .container {
      background: white;
      padding: 20px;
      max-width: 700px;
      margin: 0 auto;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h1 {
      color: #d32f2f;
      text-align: center;
    }
    #searchBox {
      width: 100%;
      padding: 12px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 6px;
      margin-bottom: 15px;
    }
    #results {
      list-style: none;
      padding: 0;
      margin: 0;
      border: 1px solid #ccc;
      border-radius: 6px;
      background: #fafafa;
      max-height: 200px;
      overflow-y: auto;
    }
    #results li {
      padding: 10px;
      border-bottom: 1px solid #ddd;
      cursor: pointer;
    }
    #results li:hover {
      background-color: #f0f0f0;
    }
    .hidden {
      display: none;
    }
    #pdfViewerContainer {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      background: white;
      z-index: 1000;
      overflow-y: auto;
      padding: 20px 20px 80px 20px;
    }
    #pdfViewerContainer button {
      margin: 10px 5px;
      padding: 10px 20px;
      background: #d32f2f;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    .green-button {
      background-color: green !important;
    }
    #uploadForm {
      margin-top: 20px;
      padding: 15px;
      border: 1px solid #ccc;
      border-radius: 8px;
      background: #f9f9f9;
    }
    #uploadForm textarea {
      width: 100%;
      height: 60px;
      padding: 10px;
    }
    #uploadForm input[type="file"],
    #uploadForm input[type="text"],
    #uploadForm input[type="email"] {
      margin: 10px 0;
      width: 100%;
      padding: 8px;
    }
    #uploadForm button {
      background: green;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      margin-bottom: 10px;
    }
    #confirmationMessage {
      margin-top: 20px;
      padding: 15px;
      border-radius: 8px;
      background-color: #e8f5e9;
      color: #2e7d32;
      font-weight: bold;
      text-align: center;
      display: none;
    }
    section {
      margin-top: 30px;
      background-color: #fffde7;
      padding: 20px;
      border-radius: 8px;
      border: 1px solid #fbc02d;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Nigeria Scam Allegations Companies Database</h1>
    <input type="text" id="searchBox" placeholder="Search company.. e.g. Sujimoto, Pwan" />
    <ul id="results"></ul>

    <section>
      <h3>Platform Purpose & Mission</h3>
      <p>
        This platform exists to give individuals a voice to report fraudulent companies operating in Nigeria. Our goal is to build a transparent, public record of petitions submitted against companies — starting with real estate scams in Lagos — so that others can be warned and protected.
      </p>
      <p>
        We aim to collect verified claims from victims and make them publicly accessible. Each report is paired with downloadable or viewable petition evidence. Companies listed can clear their name by resolving allegations and reaching out for removal.
      </p>
    </section>

    <section>
      <p><strong>Have you been scammed by a Real Estate Company in Lagos?</strong><br />
        Send your evidence of payment to 
        <a href="https://wa.me/2347077513836" target="_blank" style="color: red; text-decoration: underline; font-weight: bold;">
          ADMIN
        </a>. A <strong>PETITION</strong> to EFCC would be automatically created for you, and the company name and petition would be live on this website to <strong>WARN</strong> others.
      </p>

      <p><strong>Does your Company appear on this list?</strong><br />
        To get your company name removed from this database, contact 
        <a href="https://wa.me/2347077513836" target="_blank" style="color: red; text-decoration: underline; font-weight: bold;">
          ADMIN
        </a>, providing evidence that you have <strong>SUFFICIENTLY</strong> clarified and paid out the fraudulent allegations against your company. Once the petitioner <strong>CONFIRMS</strong> receipt, your company will be removed from the database within 24 hours.
      </p>
    </section>

    <div id="pdfViewerContainer" class="hidden">
      <button onclick="closeViewer()">Close</button>
      <button class="green-button" onclick="toggleUploadForm()">Submit a New Petition</button>

      <form id="uploadForm" class="hidden" enctype="multipart/form-data">
        <input type="text" name="name" placeholder="Your Full Name" required />
        <input type="email" name="email" placeholder="Your Email Address" required />
        <textarea name="details" placeholder="Brief details of how you were scammed..." required></textarea>
        <input type="file" name="attachments" multiple accept=".pdf,image/*" />
        <input type="hidden" name="company" id="selectedCompany" />
        <button type="submit">Send New Petition</button>
      </form>

      <div id="confirmationMessage">
        Thank you for sending your new Petition against the company you have an issue with. <br />
        The petition will be made live on the website within 24 hours to warn others.
      </div>

      <div id="pdfContent"></div>
    </div>
  </div>

  <script>
    const searchBox = document.getElementById("searchBox");
    const resultsList = document.getElementById("results");
    const pdfViewerContainer = document.getElementById("pdfViewerContainer");
    const pdfContent = document.getElementById("pdfContent");
    const uploadForm = document.getElementById("uploadForm");
    const selectedCompanyInput = document.getElementById("selectedCompany");

    let companies = [];

    fetch('data/companies.json')
      .then(res => res.json())
      .then(data => companies = data);

    searchBox.addEventListener('input', () => {
      const query = searchBox.value.toLowerCase();
      resultsList.innerHTML = '';
      if (!query) return;

      companies.filter(c => c.name.toLowerCase().includes(query)).forEach(company => {
        const li = document.createElement('li');
        li.textContent = company.name;
        li.onclick = () => showPetitions(company);
        resultsList.appendChild(li);
      });
    });

    function showPetitions(company) {
      selectedCompanyInput.value = company.name;
      pdfViewerContainer.classList.remove("hidden");
      pdfContent.innerHTML = `<h2>${company.heading}</h2>`;
      company.petitions.forEach(petition => {
        const label = document.createElement('p');
        label.innerHTML = `<strong>${petition.title}</strong>`;
        const viewBtn = document.createElement('button');
        viewBtn.textContent = "View PDF";
        viewBtn.onclick = () => window.open(petition.file, '_blank');
        const downloadBtn = document.createElement('button');
        downloadBtn.textContent = "Download PDF";
        downloadBtn.onclick = () => {
          const a = document.createElement('a');
          a.href = petition.file;
          a.download = '';
          a.click();
        };
        pdfContent.appendChild(label);
        pdfContent.appendChild(viewBtn);
        pdfContent.appendChild(downloadBtn);
      });
    }

    function closeViewer() {
      pdfViewerContainer.classList.add("hidden");
      pdfContent.innerHTML = '';
      uploadForm.classList.add("hidden");
    }

    function toggleUploadForm() {
      uploadForm.classList.toggle("hidden");
    }

    uploadForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      const formData = new FormData(uploadForm);

      const response = await fetch('https://petitionwebsite.onrender.com/submit', {
        method: 'POST',
        body: formData,
      });

      if (response.ok) {
        uploadForm.reset();
        uploadForm.classList.add("hidden");
        const confirmationMessage = document.getElementById("confirmationMessage");
        confirmationMessage.style.display = "block";
        setTimeout(() => {
          confirmationMessage.style.display = "none";
        }, 5000);
      } else {
        alert('Failed to submit petition.');
      }
    });
  </script>
</body>
</html> -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nigeria Scam Allegations Companies Database</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #eee;
      margin: 0;
    }
    .container {
      background: white;
      padding: 20px;
      max-width: 800px;
      margin: 0 auto;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h1 {
      color: #d32f2f;
      text-align: center;
    }
    #searchBox {
      width: 100%;
      padding: 12px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 6px;
      margin-bottom: 15px;
    }
    #results {
      list-style: none;
      padding: 0;
      margin: 0;
      border: 1px solid #ccc;
      border-radius: 6px;
      background: #fafafa;
      max-height: 200px;
      overflow-y: auto;
    }
    #results li {
      padding: 10px;
      border-bottom: 1px solid #ddd;
      cursor: pointer;
    }
    #results li:hover {
      background-color: #f0f0f0;
    }
    .hidden {
      display: none;
    }
    #pdfViewerContainer {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      background: white;
      z-index: 1000;
      overflow-y: auto;
      padding: 20px 20px 80px 20px;
    }
    #pdfViewerContainer button {
      margin: 10px 5px;
      padding: 10px 20px;
      background: #d32f2f;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    .green-button {
      background-color: green !important;
    }
    #uploadForm {
      margin-top: 20px;
      padding: 15px;
      border: 1px solid #ccc;
      border-radius: 8px;
      background: #f9f9f9;
    }
    #uploadForm textarea {
      width: 100%;
      height: 60px;
      padding: 10px;
    }
    #uploadForm input[type="file"],
    #uploadForm input[type="text"],
    #uploadForm input[type="email"] {
      margin: 10px 0;
      width: 100%;
      padding: 8px;
    }
    #uploadForm button {
      background: green;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      margin-bottom: 10px;
    }
    #confirmationMessage {
      margin-top: 20px;
      padding: 15px;
      border-radius: 8px;
      background-color: #e8f5e9;
      color: #2e7d32;
      font-weight: bold;
      text-align: center;
      display: none;
    }
    section {
      margin-top: 30px;
      background: #fffbea;
      padding: 15px;
      border-radius: 8px;
      border: 1px solid #f4e5b7;
    }
    footer {
      margin-top: 40px;
      background-color: #f5f5f5;
      padding: 30px 20px;
      font-size: 14px;
      color: #333;
      border-top: 1px solid #ddd;
    }
    footer a {
      color: #d32f2f;
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Nigeria Scam Allegations Companies Database</h1>
    <input type="text" id="searchBox" placeholder="Search company... Sujimoto, PWAN, etc." />
    <ul id="results"></ul>

    <div id="pdfViewerContainer" class="hidden">
      <button onclick="closeViewer()">Close</button>
      <button class="green-button" onclick="toggleUploadForm()">Submit a New Petition</button>

      <form id="uploadForm" class="hidden" enctype="multipart/form-data">
        <input type="text" name="name" placeholder="Your Full Name" required />
        <input type="email" name="email" placeholder="Your Email Address" required />
        <textarea name="details" placeholder="Brief details of how you were scammed..." required></textarea>
        <input type="file" name="attachments" multiple accept=".pdf,image/*" />
        <input type="hidden" name="company" id="selectedCompany" />
        <button type="submit">Send New Petition</button>
      </form>

      <div id="confirmationMessage">
        Thank you for sending your new petition. It will be reviewed and go live within 24 hours to warn others.
      </div>

      <div id="pdfContent"></div>
    </div>

    <section>
      <p><strong>Have you been scammed by a Real Estate Company in Lagos?</strong><br />
        Send your evidence of payment to 
        <a href="https://wa.me/2347077513836" target="_blank">ADMIN</a>. A <strong>PETITION</strong> to EFCC will be automatically created for you, and the company name and petition will be made live on this website to <strong>WARN</strong> others.
      </p>

      <p><strong>Does your Company appear on this list?</strong><br />
        To get your company name removed from this database, contact 
        <a href="https://wa.me/2347077513836" target="_blank">ADMIN</a>, providing evidence that you have <strong>SUFFICIENTLY</strong> clarified and paid out the fraudulent allegations against your company. Once the petitioner <strong>CONFIRMS</strong> receipt, your company will be removed from the database within 24 hours.
      </p>
    </section>

    <footer>
      <div style="max-width: 800px; margin: 0 auto;">
        <p style="font-weight: bold;">© 2025, Nigeria Scam Allegations Petition Platform</p>
        <p><a href="#">Data Privacy Policy</a></p>
        <h4 style="margin-top: 20px; font-size: 16px;">CONTACT US</h4>
        <p>
          PETITIONS HUB<br />
          Plot 123, Transparency Crescent, Central Business District<br />
          P.M.B: 101, Garki, Abuja<br />
          Phone: +234-812-345-6789<br />
          Mobile/Whatsapp: <a href="https://wa.me/2347077513836" target="_blank">+234 707 751 3836</a><br />
          Email: <a href="mailto:contact@petitionhub.ng">contact@petitionhub.ng</a>
        </p>
      </div>
    </footer>
  </div>

  <script>
    const searchBox = document.getElementById("searchBox");
    const resultsList = document.getElementById("results");
    const pdfViewerContainer = document.getElementById("pdfViewerContainer");
    const pdfContent = document.getElementById("pdfContent");
    const uploadForm = document.getElementById("uploadForm");
    const selectedCompanyInput = document.getElementById("selectedCompany");

    let companies = [];

    fetch('data/companies.json')
      .then(res => res.json())
      .then(data => companies = data);

    searchBox.addEventListener('input', () => {
      const query = searchBox.value.toLowerCase();
      resultsList.innerHTML = '';
      if (!query) return;

      companies.filter(c => c.name.toLowerCase().includes(query)).forEach(company => {
        const li = document.createElement('li');
        li.textContent = company.name;
        li.onclick = () => showPetitions(company);
        resultsList.appendChild(li);
      });
    });

    function showPetitions(company) {
      selectedCompanyInput.value = company.name;
      pdfViewerContainer.classList.remove("hidden");
      pdfContent.innerHTML = `<h2>${company.heading}</h2>`;
      company.petitions.forEach(petition => {
        const label = document.createElement('p');
        label.innerHTML = `<strong>${petition.title}</strong>`;
        const viewBtn = document.createElement('button');
        viewBtn.textContent = "View PDF";
        viewBtn.onclick = () => window.open(petition.file, '_blank');
        const downloadBtn = document.createElement('button');
        downloadBtn.textContent = "Download PDF";
        downloadBtn.onclick = () => {
          const a = document.createElement('a');
          a.href = petition.file;
          a.download = '';
          a.click();
        };
        pdfContent.appendChild(label);
        pdfContent.appendChild(viewBtn);
        pdfContent.appendChild(downloadBtn);
      });
    }

    function closeViewer() {
      pdfViewerContainer.classList.add("hidden");
      pdfContent.innerHTML = '';
      uploadForm.classList.add("hidden");
    }

    function toggleUploadForm() {
      uploadForm.classList.toggle("hidden");
    }

    uploadForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      const formData = new FormData(uploadForm);

      const response = await fetch('https://petitionwebsite.onrender.com/submit', {
        method: 'POST',
        body: formData,
      });

      if (response.ok) {
        uploadForm.reset();
        uploadForm.classList.add("hidden");
        document.getElementById("confirmationMessage").style.display = "block";
        setTimeout(() => {
          document.getElementById("confirmationMessage").style.display = "none";
        }, 5000);
      } else {
        alert('Failed to submit petition.');
      }
    });
  </script>
</body>
</html>

