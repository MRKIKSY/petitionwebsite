<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nigeria Scam Allegations Companies Database</title>
  <style>
    /* Global Styles */
    body {
      font-family: Arial, sans-serif;
      background: #f0f0f0;
      margin: 0;
      padding: 20px;
      color: #333;
      line-height: 1.5;
    }

    .container {
      background: white;
      max-width: 800px;
      margin: 0 auto;
      padding: 25px 30px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      box-sizing: border-box;
    }

    h1 {
      color: #d32f2f;
      font-weight: 700;
      margin-bottom: 15px;
      text-align: center;
    }

    /* Search Input */
    #searchBox {
      width: 100%;
      padding: 12px 15px;
      font-size: 16px;
      border: 1.5px solid #ccc;
      border-radius: 8px;
      margin-bottom: 20px;
      box-sizing: border-box;
      transition: border-color 0.3s ease;
    }
    #searchBox:focus {
      border-color: #d32f2f;
      outline: none;
      box-shadow: 0 0 6px #d32f2f66;
    }

    /* Mission and Info Sections - consistent with footer style */
    .info-section {
      background-color: #f5f5f5;
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 25px 30px;
      margin-bottom: 30px;
      color: #333;
      font-size: 1rem;
      line-height: 1.5;
    }
    .info-section p {
      margin: 0 0 1em 0;
    }
    .info-section strong {
      color: #d32f2f;
    }
    .info-section a {
      color: #d32f2f;
      text-decoration: underline;
    }

    /* Results list */
    #results {
      list-style: none;
      padding: 0;
      margin: 0 0 30px 0;
      border: 1px solid #ccc;
      border-radius: 8px;
      background: #fafafa;
      max-height: 200px;
      overflow-y: auto;
    }
    #results li {
      padding: 10px 15px;
      border-bottom: 1px solid #ddd;
      cursor: pointer;
    }
    #results li:hover {
      background-color: #f0f0f0;
    }

    /* PDF Viewer Container */
    #pdfViewerContainer {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      background: white;
      z-index: 1000;
      overflow-y: auto;
      padding: 20px 20px 80px 20px;
      display: none;
      box-sizing: border-box;
    }
    #pdfViewerContainer button {
      margin: 10px 5px;
      padding: 10px 20px;
      background: #d32f2f;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    .green-button {
      background-color: green !important;
    }

    /* Upload Form */
    #uploadForm {
      margin-top: 20px;
      padding: 15px;
      border: 1px solid #ccc;
      border-radius: 8px;
      background: #f9f9f9;
      display: none;
    }
    #uploadForm textarea {
      width: 100%;
      height: 60px;
      padding: 10px;
      margin-bottom: 10px;
      resize: vertical;
      font-size: 14px;
    }
    #uploadForm input[type="file"],
    #uploadForm input[type="text"],
    #uploadForm input[type="email"] {
      margin: 10px 0;
      width: 100%;
      padding: 8px;
      font-size: 14px;
      box-sizing: border-box;
    }
    #uploadForm button {
      background: green;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      margin-bottom: 10px;
      font-size: 16px;
    }

    #confirmationMessage {
      margin-top: 20px;
      padding: 15px;
      border-radius: 8px;
      background-color: #e8f5e9;
      color: #2e7d32;
      font-weight: bold;
      text-align: center;
      display: none;
      font-size: 1rem;
    }

    /* Footer inside container */
    .footer-content {
      background-color: #f5f5f5;
      padding: 25px 30px;
      font-size: 14px;
      color: #333;
      border-top: 1px solid #ddd;
      margin-top: 40px;
      border-radius: 0 0 10px 10px;
      line-height: 1.5;
      text-align: center;
    }
    .footer-content p {
      margin: 6px 0;
    }
    .footer-content a {
      color: #d32f2f;
      text-decoration: underline;
    }
    .footer-content strong {
      font-weight: bold;
    }
    .footer-content h4 {
      margin-top: 25px;
      font-size: 16px;
      font-weight: 700;
    }
  </style>
</head>
<body>
  <div class="container" role="main">
    <h1>Nigeria Scam Allegations Companies Database</h1>

    <input type="text" id="searchBox" placeholder="Search company... e.g., Sujimoto, PWAN" aria-label="Search company" />

    <div class="info-section" aria-label="Mission statement">
      <p>Our mission is to provide a transparent, community-driven platform that establishes and displays live petitions against rogue companies alleged to have defrauded individuals. By sharing verified evidence and petitions here, we help warn the public and promote accountability.</p>
    </div>

    <div class="info-section" aria-label="Important scam information">
      <p><strong>Have you been scammed by a Real Estate Company in Lagos?</strong><br />
      Send your evidence of payment to <a href="https://wa.me/2347077513836" target="_blank" rel="noopener noreferrer">ADMIN</a>. A <strong>PETITION</strong> to EFCC will be automatically created for you, and the company name and petition will be made live on this website to <strong>WARN</strong> others.</p>

      <p><strong>Does your Company appear on this list?</strong><br />
      To get your company name removed from this database, contact <a href="https://wa.me/2347077513836" target="_blank" rel="noopener noreferrer">ADMIN</a>, providing evidence that you have <strong>SUFFICIENTLY</strong> clarified and paid out the fraudulent allegations against your company. Once the petitioner <strong>CONFIRMS</strong> receipt, your company will be removed from the database within 24 hours.</p>
    </div>

    <ul id="results" role="list" aria-label="Search results"></ul>

    <!-- PDF Viewer and Petition Form -->
    <div id="pdfViewerContainer" role="dialog" aria-modal="true" aria-labelledby="pdfViewerTitle" aria-describedby="pdfContentDesc">
      <button onclick="closeViewer()" aria-label="Close petition viewer">Close</button>
      <button class="green-button" onclick="toggleUploadForm()" aria-expanded="false" aria-controls="uploadForm">Submit a New Petition</button>

      <form id="uploadForm" enctype="multipart/form-data" onsubmit="handleFormSubmit(event)" aria-hidden="true">
        <input type="text" name="name" placeholder="Your Full Name" required aria-required="true" />
        <input type="email" name="email" placeholder="Your Email Address" required aria-required="true" />
        <textarea name="details" placeholder="Brief details of how you were scammed..." required aria-required="true"></textarea>
        <input type="file" name="attachments" multiple accept=".pdf,image/*" />
        <input type="hidden" name="company" id="selectedCompany" />
        <button type="submit">Send New Petition</button>
      </form>

      <div id="confirmationMessage" role="alert" aria-live="assertive">
        Thank you for sending your new Petition against the company you have an issue with. <br />
        The petition will be made live on the website within 24 hours to warn others.
      </div>

      <div id="pdfContent" aria-live="polite" aria-atomic="true" style="margin-top: 20px;">
        <!-- PDF iframe or embed goes here -->
      </div>
    </div>

    <!-- Footer content inside container -->
    <div class="footer-content" role="contentinfo">
      <p><strong>Â© 2025, Nigeria Scam Allegations Petition Platform</strong></p>
      <p><a href="#">Data Privacy Policy</a></p>
      <h4>CONTACT US</h4>
      <p>
        PETITIONS HUB<br />
        Plot 123, Transparency Crescent, Central Business District<br />
        P.M.B: 101, Garki, Abuja<br />
        Phone: +234-812-345-6789<br />
        Mobile/Whatsapp: <a href="https://wa.me/2347077513836" target="_blank" rel="noopener noreferrer">+234 707 751 3836</a><br />
        Email: <a href="mailto:contact@petitionhub.ng">contact@petitionhub.ng</a>
      </p>
    </div>
  </div>

  <script>
    // Sample data - replace with real data or API call
    const companies = [
      { name: "Sujimoto", petitionPDF: "https://example.com/petitions/sujimoto.pdf" },
      { name: "PWAN", petitionPDF: "https://example.com/petitions/pwan.pdf" },
      { name: "Real Estate Scam Ltd", petitionPDF: "https://example.com/petitions/realescamltd.pdf" },
      { name: "Rogue Builders", petitionPDF: "https://example.com/petitions/roguebuilders.pdf" },
    ];

    const searchBox = document.getElementById("searchBox");
    const resultsList = document.getElementById("results");
    const pdfViewerContainer = document.getElementById("pdfViewerContainer");
    const pdfContent = document.getElementById("pdfContent");
    const uploadForm = document.getElementById("uploadForm");
    const confirmationMessage = document.getElementById("confirmationMessage");
    const selectedCompanyInput = document.getElementById("selectedCompany");
    const uploadFormButton = pdfViewerContainer.querySelector("button.green-button");

    // Search filter function
    searchBox.addEventListener("input", () => {
      const query = searchBox.value.trim().toLowerCase();
      resultsList.innerHTML = "";
      if (query.length === 0) return;

      const filtered = companies.filter(c => c.name.toLowerCase().includes(query));
      if (filtered.length === 0) {
        resultsList.innerHTML = '<li>No companies found.</li>';
        return;
      }

      filtered.forEach(company => {
        const li = document.createElement("li");
        li.textContent = company.name;
        li.tabIndex = 0;  // make focusable
        li.setAttribute("role", "button");
        li.setAttribute("aria-pressed", "false");
        li.onclick = () => openPetition(company);
        li.onkeydown = e => {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            openPetition(company);
          }
        };
        resultsList.appendChild(li);
      });
    });

    // Open petition viewer for company
    function openPetition(company) {
      selectedCompanyInput.value = company.name;
      pdfViewerContainer.style.display = "block";
      uploadForm.style.display = "none";
      confirmationMessage.style.display = "none";
      uploadForm.setAttribute("aria-hidden", "true");
      uploadFormButton.setAttribute("aria-expanded", "false");

      // Embed PDF (or simulate)
      pdfContent.innerHTML = `
        <h2 id="pdfViewerTitle">${company.name} Petition</h2>
        <iframe src="${company.petitionPDF}" width="100%" height="600px" aria-describedby="pdfContentDesc"></iframe>
      `;

      resultsList.innerHTML = "";
      searchBox.value = "";
      searchBox.focus();
    }

    // Close petition viewer
    function closeViewer() {
      pdfViewerContainer.style.display = "none";
      pdfContent.innerHTML = "";
      uploadForm.style.display = "none";
      confirmationMessage.style.display = "none";
      uploadForm.setAttribute("aria-hidden", "true");
      uploadFormButton.setAttribute("aria-expanded", "false");
    }

    // Toggle the upload petition form
    function toggleUploadForm() {
      const isVisible = uploadForm.style.display === "block";
      if (isVisible) {
        uploadForm.style.display = "none";
        confirmationMessage.style.display = "none";
        uploadForm.setAttribute("aria-hidden", "true");
        uploadFormButton.setAttribute("aria-expanded", "false");
      } else {
        uploadForm.style.display = "block";
        confirmationMessage.style.display = "none";
        uploadForm.setAttribute("aria-hidden", "false");
        uploadFormButton.setAttribute("aria-expanded", "true");
      }
    }

    // Handle petition form submission
    function handleFormSubmit(event) {
      event.preventDefault();
      // For demo: Just show confirmation and reset form
      confirmationMessage.style.display = "block";
      uploadForm.style.display = "none";
      uploadForm.setAttribute("aria-hidden", "true");
      uploadFormButton.setAttribute("aria-expanded", "false");
      uploadForm.reset();

      // TODO: Implement actual submission (e.g., send to backend or email)
      alert("Petition sent! The company petition will be live within 24 hours.");
    }

    // Accessibility: Close viewer on Escape key
    document.addEventListener("keydown", e => {
      if (e.key === "Escape" && pdfViewerContainer.style.display === "block") {
        closeViewer();
      }
    });
  </script>
</body>
</html>
